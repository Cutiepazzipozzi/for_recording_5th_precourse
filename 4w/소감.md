그동안은 1기능->1테스트를 실천했는데, 이번 과제는 난이도가 높아져 기능 구현을 우선으로 두었습니다. 이게 딜레마인 것 같습니다. 이번에는 기능 구현에 시간을 줄인 대신 리팩토링을 거치며 의존도가 낮은 메서드를 작성하는데 시간이 더 들었기 때문입니다. (프리코스를 하면서 게임의 흐름이나 구현해야 할 기능들을 적고 나니, 기능 구현이 훨씬 수월해졌습니다)

리팩토링에서 가장 많은 시간을 들인 항목은 아래와 같습니다.

1. 주어진 조건 맞추기
   같은 기능을 하는 코드를 묶고, 관련 메서드명을 고민하면서 지었습니다. 후에 10줄을 넘어가는 메서드가 있는지를 확인하고, 기능을 더 잘게 분리하였습니다. 그 결과 따로 시간을 들이지 않아도 가독성이 훨씬 좋은 코드가 되었습니다.
   또 주어진 클래스에 View와 관련된 클래스들을 사용하지 않는 조건이 있었습니다. 그래서 주어진 클래스의 역할 분리에 고민이 많았습니다. 처음에는 관련 인스턴스와 프로퍼티들을 모두 Controller에 저장해 값을 저장하고 관리했습니다. 그러자 메서드끼리 의존도가 높아져 기능별 테스트 작성이 불가능했습니다. 그래서 Model과 Controller 분리의 필요성을 느꼈습니다. 게임을 진행하는데 필요한 값들을 model에 저장하고 controller에서 값을 관리해줄 메서드를 작성하였습니다. 그렇게 테스트에는 특정 상황에서 쓰이는 메서드를 호출해 값이 원하는 대로 변경되는지만 확인해주었습니다.
2. 예외처리 하기
   처음에는 입력에서 예외가 발생하면, try/catch를 통해 게임에서 그 부분으로 다시 돌아가 입력을 받도록 하였습니다. 그러나 재입력 시 게임 진행 메서드들이 돌아가는 것이 비효율적이었습니다. 그래서 입력 클래스 자체에서 예외처리를 해주도록 하였습니다. 문제 소개에서도 암시하듯이, 입력에 대한 예외이므로 입력 클래스에서 다루는 것이 맞다고 생각했습니다.

주어진 조건들이 마지막 미션이니 만큼 깔끔한 코드 작성을 위해 제시해 준 가이드 라인 같습니다. 덕분에 일주일 동안 코드를 짜면서 조건을 확인하고 제가 잘못된 방향으로 가고 있는지 검열할 수 있었습니더. 알면서 등한시했던 다른 용어들도 많지만, 특히 테스트의 중요성을 가장 많이 느낀 것 같습니다. 테스트는 제 코드의 거울 같았습니다. 거울을 보며 옷 매무새나 화장을 다듬듯이, 제 코드를 테스트에 적용해 보며 로직의 문제인지, 기능 분리가 안됐는지 문제를 파악할 수 있기 때문입니다.
